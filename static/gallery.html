<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Website</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<section class="body">
<header class="masthead mb-sm">
    <nav class="navbar">
        <div>
            <h1 class="heading"><a href="#">News Board</a></h1>
            <ul class="line-menu">
                <li><a href="#">latest</a></li>
                <li><a href="#">submit</a></li>
            </ul>
        </div>
        <ul class="line-menu right">
            <li><a href="#">admin</a></li>
            <li><a href="#">logout</a></li>
        </ul>
    </nav>
</header>

<section class="main">
<div class="content box mb-xl">
    <h1>Lorem ipsum dolor sit amet</h1>
    <p>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </p>
    <p>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
    </p>
    <h2>List:</h2>
    <ul>
        <li>mouse</li>
        <li>keyboard</li>
        <li>monitor</li>
    </ul>
</div>

<ul class="vertical-list box mb-xl">
    <li>
        <div class="entry" data-votetok="abc">
            <div class="col0">
                <svg viewbox="0 0 100 100" class="upvote mx-auto">
                    <polygon points="50 15, 100 100, 0 100"/>
                </svg>
                <div class="votectr mx-auto text-fade-2 text-sm">12345</div>
            </div>
            <div class="col1">
                <div class="mb-xs text-lg">
                    <a class="no-underline" href="#">Show HN: Search code in GitHub repos using regular expressions</a>
                    <span class="text-fade-2 text-sm">(github.com)</span>
                </div>
                <ul class="line-menu byline">
                    <li>5 votes</li>
                    <li><a href="#">danfox</a></li>
                    <li>2020-02-24</li>
                    <li><a href="#">78 comments</a></li>
                </ul>
            </div>
        </div>
    </li>
    <li>
        <div class="entry">
            <div class="col0">
                <svg viewbox="0 0 100 100" class="upvote mx-auto">
                    <polygon points="50 15, 100 100, 0 100"/>
                </svg>
                <div class="mx-auto text-fade-2 text-sm">3</div>
            </div>
            <div class="col1">
                <div class="mb-xs text-lg">
                    <a class="no-underline" href="#">Go-flavored Pascal: A small embeddable self-hosting Pascal compiler for Windows</a>
                    <span class="text-fade-2 text-sm">(github.com)</span>
                </div>
                <ul class="line-menu byline">
                    <li>5 votes</li>
                    <li><a href="#">tomcam</a></li>
                    <li>2020-02-24</li>
                    <li><a href="#">4 comments</a></li>
                </ul>
            </div>
        </div>
    </li>
</ul>

<div class="box mb-xl">
    <section class="entry">
        <div class="col0">
            <svg viewbox="0 0 100 100" class="upvote mx-auto">
                <polygon points="50 15, 100 100, 0 100"/>
            </svg>
            <div class="mx-auto text-fade-2 text-sm">123</div>
        </div>
        <div class="col1">
            <div class="mb-xs text-lg">
                <a class="no-underline" href="#">Go-flavored Pascal: A small embeddable self-hosting Pascal compiler for Windows</a>
                <span class="text-fade-2 text-sm">(github.com)</span>
            </div>
            <ul class="line-menu byline">
                <li>5 votes</li>
                <li><a href="#">tomcam</a></li>
                <li>2020-02-24</li>
                <li><a href="#">4 comments</a></li>
            </ul>
            <div class="content mt-base mb-base">
                <p>
     It's interesting how the software landscape twists and turns sometimes. Go itself has some good Pascal-ish flavor, mostly via Oberon (although I actually liked the comparison with Algol 68[1], flawed as it was)
                </p>
                <p>
    A good comparison of Go-like interfaces vs Oberon's minimalistic record extension would be interesting.
                </p>
            </div>
            <form class="simpleform mb-2xl">
                <div class="control">
                    <textarea id="commentbody" name="commentbody" rows="6" cols="60"></textarea>
                </div>
                <div class="control">
                    <button class="submit">add comment</button>
                </div>
            </form>
        </div> <!-- col1 -->
    </section>

    <section class="entry-comments">
        <div class="entry mb-base">
            <div class="col0">
                <svg viewbox="0 0 100 100" class="upvote mx-auto">
                    <polygon points="50 15, 100 100, 0 100"/>
                </svg>
            <div class="mx-auto text-fade-2 text-sm">1234</div>
            </div>
            <div class="col1">
                <p class="byline mb-xs">robdelacruz <a href="#">2020-02-24</a></p>
                <div class="content mt-xs mb-xs">
                    <p>
                    That's a good observation. I wish I thought of that.
                    </p>
                </div>
            </div>
        </div>
        <div class="entry mb-base" style="padding-left: 4rem;">
            <div class="col0">
                <svg viewbox="0 0 100 100" class="upvote mx-auto">
                    <polygon points="50 15, 100 100, 0 100"/>
                </svg>
                <div class="mx-auto text-fade-2 text-sm">0</div>
            </div>
            <div class="col1">
                <p class="byline mb-xs">user2 <a href="#">2020-02-24</a></p>
                <div class="content mt-xs mb-xs">
                    <p><strong><em>@robdelacruz</em></strong> Yeah me too.</p>
                    <p>
                    In fact, I think I did think of that.
                    </p>
                </div>
            </div>
        </div>
    </section>
</div>

</section>
</section>

<script>
    document.addEventListener("click", function(e) {
        let entry = e.target.closest(".entry");
        if (entry == null) {
            return;
        }
        let votebtn = entry.querySelector(".upvote");
        let votectr = entry.querySelector(".votectr");

        let tok = entry.getAttribute("data-votetok");
        if (tok == null || tok == "") {
            return;
        }

        let xhr = new XMLHttpRequest();
        xhr.onload = function() {
            if (xhr.status < 200 || xhr.status >= 300) {
                console.log(`ajax fail (${xhr.responseText})`);
                votebtn.classList.add("voted");
                votectr.innerText = "123";
                return;
            }
            console.log(`ajax success (${xhr.responseText})`);
            votebtn.classList.add("voted");
            votectrl.innerText = "123";
        };
        xhr.open("GET", `/vote/?tok=${tok}`);
        xhr.send();
    });
</script>
</body>
</html>

